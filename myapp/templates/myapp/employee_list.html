{% extends 'myapp/base.html' %}

{% block title %}EmployeeListPage{% endblock title %}

{% block content %}
<h1 class="text-center">Employee List Page</h1>
<a href="{% url 'employee-create' %}" class="btn btn-primary my-1">Create Employee</a>

<table class="table table-bordered border-primary">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Age</th>
        <th scope="col">Extra Info</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for emp in employees %}
      <tr>
        <th scope="row">{{emp.id}}</th>
        <td><a href="{% url 'employee-update' emp.pk %}">{{emp.name}}</a></td>
        <td>{{emp.email}}</td>
        <td>{{emp.age}}</td>
        <td>
          {% for key,value in emp.extra_info.items %}
          <strong>{{key}} : </strong>{{value}}<br>
          {% endfor %}
        </td>
        <td><a href="{% url 'employee-delete' emp.id %}">Delete</a></td>
      </tr>
      {% endfor %}
    </tbody>
</table>

{% endblock content %}